{
  "page": {
    "title": "MUGEN State Controller",
    "subtitle": "Explod",
    "target": "画像",
    "category": ["Explod", "アニメーションを表示"],
    "version": "2002.04.14",
    "update": "2016.01.24",
    "type": "document",
    "level": "3"
  },

  "state": "Explod",
  "description": "<p>指定した番号のアニメーションをAIRファイルから呼び出して表示します。</p><p>同時に存在できる総数には上限があり、標準では64個(Mugen1.0から256個)となっています。仮にプレイヤー1(P1)が64個出してしまった場合、プレイヤー2(2P)は1つも出せなくなります。総数の上限は<code>mugen.cfg</code>の<code>ExplodMax</code>で変更できます。大きい値にするほど、PCへの負荷が大きくなります。動作が重かったりする場合は、この値を下げることにより改善する場合があります。</p>",
  "category": "state",
  "associated_state": ["RemoveExplod", "ModifyExplod", "ExplodBindTime"],
  "associated_trigger": ["NumExplod", "PlayerIDExist"],


  "version": [
    {"no": "-", "content": "<code>BindTime=0</code>で<code>PosType</code>を指定していても<code>PosType=Left</code>として扱われるようになってしまうため、スプライトが画面外に消える・消えなくてもおかしな位置に表示される可能性がある。"},
    {"no": "-", "content": "未検証：<code>ScreenBound</code>で画面を固定していると、<code>Explod</code>が本体に追従できずに数Fの間ずれることがある。"},
    {"no": "-", "content": "未検証：<code>AfterImage</code>系統と異なり、<code>ModifyExplod</code>を用いても<code>RemoveTime</code>で消えるまでの残り時間は変わらない。"},
    {"no": "-", "content": "未検証：<code>IgnoreHitPause=1</code>ではHitPauseTime中にも出る、またAnimが動作する。<code>IgnoreHitPause</code>を省略するとHitPauseTime中には出ない、またAnimeが動く。<code>IgnoreHitPause=0</code>ではHitPauseTime中には出ない、またAnimが動かない。"},
    {"no": "Version1.0より前", "content": "<code>Explod</code>を消去する前に、<code>Explod</code>を管理している<code>Helper</code>を<code>DestroySelf</code>で消去してしまうとExplodが残り続けます。"},
    {"no": "Version1.1から", "content": "<code>Explod</code>の<code>PosType</code>が<code>P1</code>と<code>P2</code>以外の時に、<code>EnvShake</code>（画面振動）の影響を受けなくなった"},
    {"no": "Version1.1から", "content": "<code>-2</code>に記述された<code>Explod</code>はステートが奪われた場合、奪った相手の<code>LocalCoord</code>の影響を受け縮尺がおかしくなります。"},
    {"no": "Version1.1から", "content": "<code>Space</code>,<code>Angle</code>,<code>XAngle</code>,<code>YAngle</code>,<code>ReMapPal</code>,<code>BindID</code>,<code>PosType</code>に<code>None</code>が追加されました。"},
    {"no": "Version1.1から", "content": "<code>SuperMove</code>が廃止されました。"},
    {"no": "警告文", "content": "ILLEGAL EXPLOD ANIMNO : Animに-1以下"},
    {"no": "警告文", "content": "NEGATIVE EXPLOD ID : IDに-1以下"},
    {"no": "警告文", "content": "ILLEGAL POSBINDTIME FOR EXPLOD : BindTimeに-2以下"},
    {"no": "警告文", "content": "NEGATIVE EXPLOD RANDOM PARAM : Randomに-1以下"},
    {"no": "警告文", "content": "ILLEGAL REMOVETIME FOR EXPLOD : RemoveTimeに-3以下"},
    {"no": "警告文", "content": "ILLEGAL SHADOW COLOR : Colorに-2以下"}
  ],

  "parameter": [
    {
      "parameter": "ID",
      "value": ["ExplodのID"],
      "type": ["int"],
      "description": "<p>Explodに割り当てるIDを指定します。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["1"]
    },
    {
      "parameter": "Facing",
      "value": ["向き"],
      "type": ["int"],
      "description": "<p>スプライトの向きを指定。1で正、-1で負の方向を向きます。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["1"],
      "load_priority": ["2"]
    },
    {
      "parameter": "VFacing",
      "value": ["上下の向き"],
      "type": ["int"],
      "description": "<p>-1にすると、垂直方向に反転表示されます。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["1"],
      "load_priority": ["3"]
    },
    {
      "parameter": "Pos",
      "value": ["x座標, y座標"],
      "type": ["int", "int"],
      "description": "<p>スプライトの初期出現位置を指定します。</p>",
      "min_value": ["-2147483647", "-2147483647"],
      "max_value": ["2147483647", "2147483647"],
      "parameter_type": "optional",
      "default_value": ["0", "0"],
      "load_priority": ["4, 5"]
    },
    {
      "parameter": "PosType",
      "value": ["基準点の位置"],
      "type": ["string"],
      "description": "<p>アニメーションを出現させるための基準点(0,0)をどこにするか、以下の文字列から指定します。</p>",
      "parameter_type": "optional",
      "default_value": ["P1 ;Version1.1からはNoneに変更されています。"],
      "possible_value": [
        ["タイプ", "基準"],
        ["P1", "<p>実行者が基準点(0,0)になります。X軸の正数は実行者の正面・Y軸の負数は実行者の頭上。</p><div><img src=\"./media/img/PosType_P1.png\" alt=\"MUGEN PosType P1\"></div>"],
        ["P2", "<p>実行者に最も近い敵が基準点(0,0)になります。X軸の正数は最も近い敵の正面・Y軸の負数は最も近い敵の頭上。</p><div><img src=\"./media/img/PosType_P2.png\" alt=\"MUGEN PosType P2\"></div>"],
        ["F", "<p>FはFrontの略。実行者の正面の画面端が基準点(0,0)になります。X軸の負数は基準点から実行者の方向・Y軸の負数は地面から上。</p><div><img src=\"./media/img/PosType_Front_1.png\" alt=\"MUGEN PosType Front\"></div>"],
        ["B", "<p>BはBackの略。実行者の背面の画面端が基準点(0,0)になります。X軸の正数は基準点から実行者の方向・Y軸の負数は地面から上。</p><div><img src=\"./media/img/PosType_Back_1.png\" alt=\"MUGEN PosType Back\"></div>"],
        ["L", "<p>LはLeftの略。画面左上が基準点(0,0)になります。X軸の正数は画面右方向・Y軸の正数は画面下方向。</p><div><img src=\"./media/img/PosType_Left_Explod.png\" alt=\"MUGEN PosType Left\"></div>"],
        ["R", "<p>RはRightの略。画面右上が基準点(0,0)になります。X軸の負数は画面左方向・Y軸の正数は画面下方向。</p><div><img src=\"./media/img/PosType_Right_Explod.png\" alt=\"MUGEN PosType Right\"></div>"],
        ["N", "<p>NはNoneの略。ステージ中央が基準点(0,0)になります。他のPosTypeと違い基準点は絶対に動きません。X軸は右方向が正数・左方向が負数。Y軸は上方向が負数・下方向が正数。</p><p>Version1.1から追加された値です。</p><div><img src=\"./media/img/PosType_None.png\" alt=\"MUGEN PosType None\"></div>"]
      ],
      "load_priority": ["?"]
    },
    {
      "parameter": "Space",
      "value": ["座標の方法"],
      "type": ["string"],
      "description": "<p>アニメーションを表示する座標をどのようにするかを指定します。</p><p>Version1.1から利用可能なパラメーター。<code>PosType</code>の代替パラメーターで、優先してSpaceが読み込まれます。</p>",
      "parameter_type": "optional",
      "default_value": ["Stage"],
      "possible_value": [
        ["タイプ", "基準"],
        ["Screen", "座標は画面に依存。画面左上が(0,0)、右下が(ScreenWidth,ScreenHeight)になります。カメラの動きやズームの影響を受けません。"],
        ["Stage", "座標はステージに依存。座標(0,0)は(ステージの中央,ステージで設定した地面)になります。カメラの動きとズームの影響を受けます。"]
      ],
      "load_priority": ["?"]
    },
    {
      "parameter": "Random",
      "value": ["x範囲, y範囲"],
      "type": ["int", "int"],
      "description": "<p>出現位置をランダムにする場合の、出現範囲を指定。</p><p>pos = 0,0で、random = 40,80の場合、0,0の位置から左右-20～20ピクセル、上下-40～40ピクセルの範囲内でランダムに出現します。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0, 0"],
      "load_priority": ["6, 7"]
    },
    {
      "parameter": "Vel",
      "value": ["x速度, y速度"],
      "type": ["float", "float"],
      "description": "<p>スプライトの初速度を指定。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0, 0"],
      "load_priority": ["8, 9"]
    },
    {
      "parameter": "Accel",
      "value": ["x加速度, y加速度"],
      "type": ["float", "float"],
      "description": "<p>スプライトの加速度を指定。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0, 0"],
      "load_priority": ["10, 11"]
    },
    {
      "parameter": "Scale",
      "value": ["横縮尺 [,縦縮尺]"],
      "type": ["float"],
      "description": "<p>縮尺を指定。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["1, 1"],
      "load_priority": ["12, 13"]
    },
    {
      "parameter": "Angle",
      "value": ["角度"],
      "type": ["float"],
      "description": "<p>アニメーションを回転させる角度を度単位で指定。</p><!--なんと、この二つのパラメータを使うとExplodの「立体変形」が可能になる（RenderModeがOpenGLの時のみ）手前や奥行きに向かって遠近感のある表示をさせる事も出来るようになったOpenGLの恩恵がここに顕れてる-->",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["?"]
    },
    {
      "parameter": "XAngle",
      "value": ["角度"],
      "type": ["float"],
      "description": "<p>X軸を中心にアニメーションを回転させる角度を指定。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["?"]
    },
    {
      "parameter": "YAccelAngle",
      "value": ["角度"],
      "type": ["float"],
      "description": "<p>Y軸を中心にアニメーションを回転させる角度を指定。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["?"]
    },
    {
      "parameter": "BindID",
      "value": ["bind_id"],
      "type": ["int"],
      "description": "拘束元のプレイヤーＩＤを指定, デフォルトは-2, -1なら任意・-2なら拘束しない, ヘルパーからExplodを出した場合、HelperTypeがPlayerでないと無効<p>ID number of a player or helper to bind to. The position of a bound explod is relative to the object that it is bound to. Special values are -1 (bind to any single player) and -2 (do not bind). Defaults to -2. The bindtime parameter is required if bindID is not -2. Screen space explods cannot be bound.</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": [""],
      "load_priority": ["?"]
    },
    {
      "parameter": "BindTime",
      "value": ["固定時間"],
      "type": ["int"],
      "description": "<p>ここで指定した時間内は、基準位置からの相対位置で表示されます。つまり、基準位置が移動すると、それに合わせてスプライトも移動します。</p><p>-1以下で固定時間が永続化。ただし-2以下は警告文を出すので永続にする場合は、-1のみしか指定してはいけません。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["1"],
      "load_priority": ["14"]
    },
    {
      "parameter": "SprPriority",
      "value": ["スプライト表示優先順位"],
      "type": ["int"],
      "description": "<p>スプライトの表示優先順位を指定。-3にすると、大抵のスプライトより奥に表示されます。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["15"]
    },
    {
      "parameter": "OnTop",
      "value": ["手前表示フラグ"],
      "type": ["boolean"],
      "description": "<p>1にすると、sprpriorityは無視され、全てのスプライト、背景レイヤーより手前に表示されます。ただし、ヒット/ガードスパークより手前に表示させることはできません。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["16"]
    },
    {
      "parameter": "RemoveTime",
      "value": ["消滅時間"],
      "type": ["int"],
      "description": "<p>発生してから消滅するまでの時間を指定。-1で永久に表示。特定の条件下で消すような場合は、Expoldを消すコントローラーを使うとよいでしょう。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["-2 ;スプライトのアニメが終了すると消える。"],
      "load_priority": ["17"]
    },
    {
      "parameter": "SuperMove",
      "value": ["superpause無視フラグ"],
      "type": ["boolean"],
      "description": "<p><code>1</code>にすると、<code>SuperPause</code>コントローラーの影響を受けなくなります。</p><p>Version1.1では廃止されているため使わないほうがいいです。<code>SuperMoveTime</code>で代用してください。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["18"]
    },
    {
      "parameter": "SuperMoveTime",
      "value": ["SuperPause無視時間"],
      "type": ["int"],
      "description": "<p><code>SuperPause</code>コントローラーの影響を無視する時間を指定。-1または-2で無視時間永続化。</p><p>※60フレーム=1秒</p>",
      "min_value": ["-1"],
      "max_value": ["2147483647"],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["19"]
    },
    {
      "parameter": "PauseMoveTime",
      "value": ["Pause無視時間"],
      "type": ["int"],
      "description": "<p><code>Pause</code>コントローラーの影響を無視する時間フレーム単位を指定。-1以下で無視時間が永続化。</p><p>※60フレーム=1秒</p>",
      "min_value": ["-2147483647"],
      "max_value": ["2147483647"],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["20"]
    },
    {
      "parameter": "Shadow",
      "value": ["赤影, 緑影, 青影"],
      "type": ["int", "int", "int"],
      "description": "<p>影の色をR,G,Bで指定。-1でステージ依存。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0, 0, 0 ;影なし"],
      "load_priority": ["21, 22, 23"]
    },
    {
      "parameter": "RemoveOnGethit",
      "value": ["やられ消滅フラグ"],
      "type": ["boolean"],
      "description": "<p>1にすると、プレイヤーが攻撃を受けた場合、消滅します。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0"],
      "load_priority": ["24"]
    },
    {
      "parameter": "Trans",
      "value": ["透過型"],
      "type": ["string"],
      "description": "<p>透過型には、以下のいずれかの文字列を指定します。</p>",
      "min_value": ["-256", "-256", "-256 ;黒"],
      "max_value": ["256", "256", "256 ;白"],
      "parameter_type": "optional",
      "possible_value": [
        ["透過処理","効果"],
        ["Default","何も処理しない。多分Noneと同じ処理？パラメータは読み込まれる。"],
        ["None","透過処理無し。Airで透過処理している時無効にできる。"],
        ["Add","画像を半透明にする。アルファ値256,256の加算透過。"],
        ["Add1","Addより暗い感じの半透明にする。アルファ値256,128の加算透過。"],
        ["Sub","画像を影のように半透明にする。減算透過。"],
        ["AddAlpha","下記のAlphaとセットで使うのが普通。"]
      ],
      "default_value": ["Add"],
      "load_priority": ["?"]
    },
    {
      "parameter": "Alpha",
      "value": ["ソースアルファ, デスティネーションアルファ"],
      "type": ["int", "int"],
      "description": "<p>透過型が\"AddAlpha\"の場合に指定します。有効範囲は0(低)から256(高)です。</p><p>ソースアルファは、透過させるスプライトの透過度、デスティネーションアルファは、スプライト透過の目的となるピクセル(背景と考えると、実際には異なるが、わかり易い)の透過度、ということになります。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["256, 0<!--no check-->"],
      "load_priority": ["25, 26"]
    },
    {
      "parameter": "Anim",
      "value": ["[F]アクション番号"],
      "type": ["int"],
      "description": "<p>表示させるスプライトのアクション番号を指定。<code>FightFx.air</code>のものを使う場合は、先頭にFを記述。</p>",
      "possible_value": [
        ["<code>FightFx.air</code>のアクション番号",""],
        ["F0","弱ヒットの火花"],
        ["F1","中ヒットの火花"],
        ["F2","強ヒットの火花"],
        ["F3","強強ヒットの火花"],
        ["F10","弱めの出血"],
        ["F11","出血"],
        ["F12","強めの出血"],
        ["F40","ガード時の閃光"],
        ["F60","小さい衝撃波"],
        ["F61","衝撃波"],
        ["F62","強い衝撃波"],
        ["F70","壁衝突の軽い衝撃波"],
        ["F71","壁衝突の衝撃波"],
        ["F72","壁衝突の強い衝撃波"],
        ["F100","レベル1の超必殺エフェクト"],
        ["F101","レベル2の超必殺エフェクト"],
        ["F102","レベル3の超必殺エフェクト"],
        ["F120","小さい砂埃"],
        ["F130","力をためるエフェクト"]
      ],
      "min_value": [""],
      "max_value": ["2147483647"],
      "parameter_type": "required",
      "default_value": ["?"],
      "load_priority": ["27"]
    },
    {
      "parameter": "OwnPal",
      "value": ["独自パレットフラグ"],
      "type": ["boolean"],
      "description": "<p>例えば、プレイヤーが青く点滅すると、Explodも青く点滅します。</p><p>1にすると、独自のパレットを持つようになります。</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["0 ;プレイヤーと共通のパレットを持ちます。"],
      "load_priority": ["28"]
    },
    {
      "parameter": "ReMapPal",
      "value": ["dst_pal_grp, dst_pal_item"],
      "type": ["int", "int"],
      "description": "<p>SFFv2で登録したカラーパレットの読み込みForces a palette remap of the explod's indexed-color sprites to the specified palette. This parameter is used only if ownpal_flag is non-zero and a fight.def anim is not used. If dst_pal_grp is -1, this parameter will be ignored.</p>",
      "min_value": [""],
      "max_value": [""],
      "parameter_type": "optional",
      "default_value": ["-1, 0"],
      "load_priority": ["?"]
    }
  ],

  "code_sample": [
    {
      "title": "SpaceでPosTypeを再現する方法",
      "code": [
        ";PosType = P1",
        "Space = Stage",
        "Pos = Pos X + CameraPos X, Pos Y",
        "Facing = Facing",
        "",
        ";PosType = P2",
        "Space = Stage",
        "Pos = (EnemyNear, Pos X) + CameraPos X, (EnemyNear, Pos Y)",
        "Facing = EnemyNear, Facing",
        "",
        ";PosType = Front",
        "Space = Screen",
        "Pos = IfElse(Facing = -1, 0, ScreenWidth), 0",
        "Facing = 1",
        "",
        ";PosType = Back",
        "Space = Screen",
        "Pos = IfElse(Facing = 1, 0, ScreenWidth), 0",
        "Facing = Facing",
        "",
        ";PosType = Left",
        "Space = Screen",
        "Pos = 0, 0",
        "Facing = 1",
        "",
        ";PosType = Right",
        "Space = Screen",
        "Pos = ScreenWidth, 0",
        "Facing = 1"
      ]
    },
    {
      "title": "マガがしいオーラ（厄い）",
      "code": [
        "[State -2]",
        "Type = Explod",
        "Trigger1 = NumExplod(1) &lt; 10 &amp;&amp; Time %8",
        "ID = 1",
        "Facing = Root,Facing",
        "PosType = P1",
        "Pos = 0, 0",
        "Random = 80, 80",
        "Scale = 1.1, 1.1",
        "SprPriority = -5",
        "OnTop = 0",
        "RemoveTime = 8",
        "RemoveOnGetHit = 1",
        "Trans = Sub",
        "Anim = 0",
        "OwnPal = 0",
        "IgnoreHitPause = 1"
      ]
    }
  ],

  "quote": [
    {"title": "Explod - State Controller Reference Documentation for version 1.1", "url": "http://network.mugenguild.com/justnopoint/1.1docs/sctrls.html#explod"},
    {"title": "Explod - M.U.G.E.N wiki", "url": "http://elecbyte.com/wiki/index.php/Explod"},
    {"title": "M.U.G.E.N 1.1 - 君の瞳は紫外線", "url": "http://chottokomaru.sitemix.jp/mugen1.1.html"},
    {"title": "Explod - MUGEN CNS WIKI CHAOS@予定", "url": "http://www49.atwiki.jp/mugencns/pages/216.html"},
    {"title": "Explod - State Controller", "url": "/redirect/?url=homotaro.s44.xrea.com/pukiwiki/pukiwiki.php?Explod&protocol=http"},
    {"title": "Explod - 東方夢幻館", "url": "http://kurogane452.g.ribbon.to/Filefyx/sctrls_main.html#Explod"},
    {"title": "Explod - 地球の応接間", "url": "http://www.purple.dti.ne.jp/earth/mugen/statebook/state1.htm"},
    {"title": "不具合・対策まとめ - MUGENの便覧", "url": "http://mugenbinran.web.fc2.com/error.html#12"},
    {"title": "Explodって結構ヘンなコントローラーじゃないかね - Diary::586", "url": "http://d.hatena.ne.jp/e586/20080129/1201591289"},
    {"title": "sffとairの限界 - lunaの倉庫", "url": "http://lunatic284.blog90.fc2.com/blog-entry-2008.html"}
  ]
}